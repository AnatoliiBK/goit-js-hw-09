{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SA8BA,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAAKC,KACvBC,aAAY,KACNN,GACFI,EAAI,C,SAACN,E,MAAUC,IAEjBM,EAAI,C,SAACP,E,MAAUC,GAAO,GACtB,GACDA,E,CArCSQ,SAASC,cAAc,SAE/BC,iBAAiB,UAEvB,SAAsBC,GACpBA,EAAMC,iBAEN,MAAOZ,MAAAa,EAAKC,KAAEA,EAAIC,OAAEA,GAAUJ,EAAMK,OAAOC,SAE3C,IAAIC,EAAaC,OAAON,EAAMO,OAC9B,MAAMC,EAAcF,OAAOJ,EAAOK,OAC5BE,EAAYH,OAAOL,EAAKM,OAE9B,IAAK,IAAIG,EAAI,EAAGA,GAAKF,EAAaE,GAAK,EACrCzB,EAAcyB,EAAGL,GAAYM,MAAK,EAACzB,SAACA,EAAQC,MAAEA,MAC5CyB,EAAA7B,GAAS8B,OAAOC,KAAK,uBAAqB5B,QAAiBC,OACzD4B,QAAMC,IAAI,uBAAqB9B,QAAiBC,MAAU,IAE7D8B,OAAM,EAAC/B,SAACA,EAAQC,MAAEA,MACjByB,EAAA7B,GAAS8B,OAAOC,KAAK,sBAAoB5B,QAAiBC,OACxD4B,QAAMC,IAAI,sBAAoB9B,QAAiBC,MAAU,IAE7DkB,GAAcI,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst formR = document.querySelector(\".form\");\n \nformR.addEventListener(\"submit\", onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  \n  const {delay, step, amount} = event.target.elements;\n  \n  let delayValue = Number(delay.value);\n  const amountValue = Number(amount.value);\n  const stepValue = Number(step.value);\n\n  for (let i = 1; i <= amountValue; i += 1) {\n    createPromise(i, delayValue).then(({position, delay}) => {\n      Notiflix.Notify.info(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({position, delay}) => {\n      Notiflix.Notify.info(`❌ Rejected promise ${position} in ${delay}ms`);\n      console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n    delayValue += stepValue;\n  }\n  \n}\n\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((res, rej) => {\n    setInterval(() => {\n      if (shouldResolve) {\n        res({position, delay})\n      }\n      rej({position, delay})\n    })\n  }, delay)\n  }\n\n  \n  \n\n\n  \n\n\n\n\n\n\n\n\n\n\n\n  // createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n\n\n// const success = {};\n//   const notsuccess = {};\n//     if (shouldResolve) {\n//     // Fulfill\n//       for (let i = 1; i <= position; i += 1) {     \n//           position = i;\n//       }\n//       for (let j = inputDel.value; j >= inputDel.value; j += inputStep) {\n//         delay = j;     \n//       }\n      \n//       return success = {\n//         position: i,\n//         delay: j\n//       }\n\n//         } else {\n//           // Reject\n//           for (let i = 1; i <= position; i += 1) {     \n//             position = i;\n//         }\n//           for (let j = inputDel.value; j >= inputDel.value; j += inputStep) {\n//             delay = j;\n//           }\n\n//         return notsuccess = {\n//           position: i,\n//           delay: j\n//         }\n//         }"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","res","rej","setInterval","document","querySelector","addEventListener","event","preventDefault","delay1","step","amount","target","elements","delayValue","Number","value","amountValue","stepValue","i","then","$parcel$interopDefault","Notify","info","console","log","catch"],"version":3,"file":"03-promises.dfccaebe.js.map"}